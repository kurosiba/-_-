# フィックスポイント プログラミング試験問題
# 設問1
監視ログファイルを読み込み、故障状態のサーバアドレスとそのサーバの故障期間を出力するプログラムを作成せよ。出力フォーマットは任意でよい。なお、pingがタイムアウトした場合を故障とみなし、最初にタイムアウトしたときから、次にpingの応答が返るまでを故障期間とする。

## 設問１内容説明
監視ログファイル(今回はlogfile.txtを使用)を一行ずつ読み込み、pingのタイムアウトが発生した時点でその時刻のタイムスタンプとサーバーのアドレスを記録する。
次にpingの応答時間が発生した時刻のタイムスタンプと記録しているタイムスタンプから故障期間を算出し、そのサーバーのアドレスとともにコンソールに出力している。

## 設問１実行方法
1. goの実行環境を整える
2. Q1.goと同じ階層にログファイルを準備する。(今回はlogfile.txtを用意)
3. AccessLogCheckに入り、ターミナル上で以下のコマンドを実行する。
"go run Q1.go"

# 設問2
ネットワークの状態によっては、一時的にpingがタイムアウトしても、一定期間するとpingの応答が復活することがあり、
そのような場合はサーバの故障とみなさないようにしたい。
N回以上連続してタイムアウトした場合にのみ故障とみなすように、設問1のプログラムを拡張せよ。
Nはプログラムのパラメータとして与えられるようにすること。

## 設問2内容説明
Nの値をタイムアウトした回数が上回るたびにそのサーバーが故障しているメッセージを(アドレス) Server failureとコンソールに出力する。
もし、故障していても途中でpingが通った際にはそのサーバーが故障しているメッセージに加えて、故障期間も(アドレス) Server failure period is (故障期間)とコンソールに出力する。
## 設問2実行方法
1. goの実行環境を整える
2. Q2.goと同じ階層にログファイルを準備する。(今回はlogfile.txtを用意)
3. プログラムファイル(Q2.go)内のNに故障回数を入力する。(デフォルトでは2回としている)
4. AccessLogCheckに入り、ターミナル上で以下のコマンドを実行する。
"go run Q2.go"

# 設問3
サーバが返すpingの応答時間が長くなる場合、サーバが過負荷状態になっていると考えられる。
そこで、直近m回の平均応答時間がtミリ秒を超えた場合は、サーバが過負荷状態になっているとみなそう。
設問2のプログラムを拡張して、各サーバの過負荷状態となっている期間を出力できるようにせよ。mとtはプログラムのパラメータとして与えられるようにすること。
## 設問3内容説明
タイムアウトしていないサーバーの情報を格納し、m回に達したときにtと平均応答時間を比較する。
平均応答時間がtより長ければ、(アドレス) Server's overload period is (過負荷状態となっている期間)としてコンソールに出力する。

## 設問3実行方法
1. goの実行環境を整える
2. Q3.goと同じ階層にログファイルを準備する。(今回はlogfile.txtを用意)
3. プログラムファイル(Q3.go)内のmに平均をとりたい回数,tに平均応答時間の基準を入力する。(デフォルトではm=3, t=2としている)
4. AccessLogCheckに入り、ターミナル上で以下のコマンドを実行する。
"go run Q3.go"

# 設問4
ネットワーク経路にあるスイッチに障害が発生した場合、そのスイッチの配下にあるサーバの応答がすべてタイムアウトすると想定される。
そこで、あるサブネット内のサーバが全て故障（ping応答がすべてN回以上連続でタイムアウト）している場合は、
そのサブネット（のスイッチ）の故障とみなそう。
設問2または3のプログラムを拡張して、各サブネット毎にネットワークの故障期間を出力できるようにせよ。
## 設問4内容説明
故障状態のサーバーのアドレスと正常にpingが返ってきているサーバーのサブネットを比較して一致しない場合にサブネットの故障とみなしてコンソールに出力している。
(故障期間の出力は実装出来ませんでした)
## 設問4実行方法
1. goの実行環境を整える
2. Q4.goと同じ階層にログファイルを準備する。(今回はlogfile.txtを用意)
3. AccessLogCheckに入り、ターミナル上で以下のコマンドを実行する。
"go run Q4.go"